# repeatable keys have 1 second
set -g repeat-time 1000

# remap space
unbind-key C-b
set-option -g prefix C-Space

# open new panes with path of the current pane
unbind-key c
bind-key c new-window -c '#{pane_current_path}'
unbind-key %
bind-key % split-window -h -c '#{pane_current_path}'
unbind-key '"'
bind-key '"' split-window -v -c '#{pane_current_path}'

# vim-like bindings for pane navigation
unbind-key h
unbind-key j
unbind-key k
unbind-key l
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# fast toggle between current and last pane (normally prefix-l)
bind-key a last-pane

# don't make me hit shift to change panes
unbind-key 1
unbind-key 2
unbind-key 3
unbind-key 4
unbind-key 5
unbind-key 6
unbind-key 7
unbind-key 8
unbind-key 9
unbind-key 0
bind-key -r "+" select-window -t :=1
bind-key -r "[" select-window -t :=2
bind-key -r "{" select-window -t :=3
bind-key -r "(" select-window -t :=4
bind-key -r "&" select-window -t :=5
bind-key -r "=" select-window -t :=6
bind-key -r ")" select-window -t :=7
bind-key -r "}" select-window -t :=8
bind-key -r "]" select-window -t :=9
bind-key -r "*" select-window -t :=10

bind-key -r C-L switch-client -n
bind-key -r C-H switch-client -p

# start window/pane numbering at 1, 0 too far :(
set-option -g base-index 1
set-option -g pane-base-index 1

set-option -g renumber-windows 1

# display messages long enough to actually read
set-option -g display-time 4000

set-option -g detach-on-destroy off

# modern colors
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",alacritty:Tc"
set -ga terminal-overrides ",screen:Tc"
set -ga terminal-overrides ",tmux:Tc"
set -as terminal-features ",xterm-256color:RGB"

# mouse friendly
set -g mouse on

# source a machine-local tmux config, if it exists
source-file -q ~/.tmux-local.conf

bind-key r source-file ~/.tmux.conf
bind-key -r f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"

bind-key N run-shell "~/.local/bin/tmux-sessionizer ~/.config/nvim"
bind-key H run-shell "~/.local/bin/tmux-sessionizer ~/.dots"

## STATUS BAR

# active window title colors
set -g status-bg "#3b3e48"
set-window-option -g window-status-current-style "fg=#e7c664,bg=default"

# default window title colors
set-window-option -g window-status-style "fg=#999580,bg=default"

# Avoid date/time taking up space
set -g status-left "#[fg=red, bright][#S] "
set -g status-right "#{pane_current_path} "
